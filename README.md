# Проектная работа "Веб-ларек"

Стек: HTML, SCSS, TS, Webpack

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом
- src/components/events — папка с событиями приложения
- src/components/model — папка с моделями
- src/components/view — папка с представлениями

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/scss/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```

## Архитектура проекта (MVP):

Архитектура MVP получает и обрабатывает данные (API). В MVP чёткое разделение кода, бизнес-логика (Model) не смешана с UI (View). Архитектура MVP помогает разделить ответственность между слоями и делает код более поддерживаемым и тестируемым.

## Базовые классы
 
 ## `Model` - родительский класс моделей.

 Поля: отсутствуют.
 
 Конструктор принимает параметр типа Events.
 
 Методы:
 
 - `emitChanges`- Генерирует событие, принимает параметром событие event типа string и payload типа object, который является необязательным (при отсутствии передается пустой объект).

 ## `Api` - класс для работы с REST API.

 Поля:

 - `baseUrl` - Базовый URL, к которому добавляются относительные URI, типа string.
 - `options` - Объект с параметрами по умолчанию для всех запросов, типа RequestInit. 
 
 Конструктор принимает параметр базовый URL baseUrl типа string для всех запросов и необязательный объект конфигурации options типа RequestInit используется для установки заголовков запроса.
 
 Методы:

 - `handleResponse(response: Response): Promise<T>` - Внутренний метод обработки ответа сервера. Принимает `response: Response` — объект ответа, полученный от fetch. Возвращает `Promise<T>` — разрешается с данные ответа или отклоняется с ошибкой
  - `get(uri: string)` — принимает изменяемую часть URL в виде строки и возвращает ответ от сервера.  
  - `post(uri: string, data: object, method: ApiPostMethods = 'POST')` — принимает изменяемую часть URL, объект с данными для отправки и метод запроса (который может быть 'POST', 'PUT' или 'DELETE'), по умолчанию используется 'POST'.
 
  ## `Components` - обеспечивает базовые методы для работы с DOM и логику обновления UI на основе данных.

 Поля:

 - `data: Partial<RenderData>` - Хранилище данных для рендеринга.
 - `container: HTMLElement` - Контейнер DOM-элемента, к которому привязано представление.
 
 Конструктор принимает параметр `container: HTMLElement` — DOM-элемент, в котором происходит отрисовка.
 
 Методы:
 
 - `toggleClass(element: HTMLElement, className: string, force?: boolean): void` - добавляет или убирает CSS-класс на DOM-элементе. Принимает `element` — DOM-элемент, `className` — название класса, `force` — явное указание.
 - `updateTextContent(element: HTMLElement, value: unknown): void` - устанавливает текстовое содержимое элемента. Принимает `element` — DOM-элемент, `value` — текст любого типа, преобразуется в строку.
 - `setElementDisabled(element: HTMLElement, state: boolean): void` - блокирует или разблокирует элемент формы. Принимает   `element` — DOM-элемент, state — состояние, в которое нужно перевести элемент.
 - `updateImageSource(element: HTMLImageElement, src: string, alt?: string): void` - устанавливает src и alt для изображения. Принимает `element` — DOM-изображение, `src` — ссылка на изображение, `alt` — необязательный альтернативный текст.
 - `render(data: Partial<RenderData>): HTMLElement` - Объединяет переданные данные с текущими, вызывает метод Show и возвращает DOM-элемент. Используется для обновления UI.
 - `Show(data: Partial<RenderData>): void` - абстрактный метод. Выполняет отрисовку представления по данным.

 ## `Events` - реализует паттерн «Observer и управляет обработкой событий: его методы дают возможность добавлять и удалять обработчики событий, а также запускать эти обработчики, когда событие происходит.

 Поля:

 - `_events: Map<EventName, Set<Subscriber>>` — структура данных, которая хранит всех подписчиков. Для каждого названия события сохраняется множество связанных с ним обработчиков (функций).
 
 Конструктор создаёт пустой список событий. Инициализирует _events.
 
 Методы:
 
 - `on<T>(event: EventName, callback: (data: T) => void): void` — регистрирует обработчик на конкретное событие. Принимает `event` — название события или регулярное выражение, и `callback` — функцию, которая будет вызвана при срабатывании события.
 - `off(event: EventName, callback: Subscriber): void` — отменяет подписку на событие. Принимает `event` — название события или регулярное выражение и `callback` — ранее зарегистрированный обработчик, который нужно убрать.
 - `emit<T>(event: string, data?: T): void` — инициирует событие и уведомляет всех подписанных обработчиков. Принимает `event` — название события и, опционально, `data` — данные, передаваемые обработчикам.
 - `onAll(allback: (event: EmitterEvent) => void): void` — подписка на все события. Принимает функцию, которая вызывается при любом событии и получает объект с именем события и сопровождающими данными.
 - `offAll(): void` — удаляет все существующие подписки и обработчики со слушателей.
 - `trigger<T>(event: string, context?: Partial<T>): (data: T) => void` — создает и вызывает событие с указанным именем и дополнительными данными. Возвращает функцию-обработчик, которую можно использовать, например, для связи с UI-компонентами или другими системами, чтобы инициировать событие с переданными параметрами.

---

## Модели данных

  ## `BasketModel` - Модель данных корзины, реализует хранение товаров и управление товарами в корзине.

 Поля:

 - `products` - хранит массив товаров типа Product[].
 
 Конструктор наследует конструктор от абстрактной модели данных Model.
 
 Методы:
 
 - `getProducts` - возвращает массив объектов товаров типа Product[];
 - `add` - добавляет товар в корзину, в поле products и сообщает об изменениях подписчикам;
 - `getTotal` - возвращает сумму цен товаров в корзине;
 - `remove` - удаляет товар из корзины, в поле products и сообщает об изменениях подписчикам;
 - `clear` - удаляет все товары из корзины, очищает массив в поле products;
 - `changed` - внутренний метод, вызываемый после каждого изменения, генерирует событие CHANGED с актуальными данными корзин;
 - `isAddedToBasket` - проверяет, добавлен ли товар в корзину.

 ## `CatalogModel` - сообщает всем подписчикам, что товары пришли с сервера и каталог товаров изменился.

 Поля отсутствуют
 
 Конструктор наследует конструктор от абстрактной модели данных Model.
 
 Методы:
 
 - `setProducts` - оповещает всех подписчиков об изменении каталога товаров.

 ## `ContactsModel` - Модель данных контактов покупателя, реализует хранение данных email и телефон.

 Поля:

 - `_email` - хранит email пользователя типа string, изначально пустая строка;
 - `_phone` - хранит телефон пользователя типа string, изначально пустая строка.
 
 Конструктор наследует конструктор от абстрактной модели данных Model.
 
 Методы:
 
 - `getEmail` - возвращает Email, введенный пользователем типа string;
 - `setEmail` - принимает Email типа string, введенный пользователем, добавляет его в поле _email, сообщает подписчикам об изменениях;
 - `getPhone` - возвращает телефон, введенный пользователем типа string;
 - `setPhone` - принимает телефон типа string, введенный пользователем, добавляет его в поле _phone, сообщает подписчикам об изменениях;
 - `getValid` - проверяет, заполнены ли поля email и телефон;
 - `getError` - возвращает первую подходящую ошибку типа string если не заполнено поле c телефоном или с email;
 - `contactsChanged` - внутренний метод, вызываемый после каждого изменения, генерирует событие CONTACTS_CHANGED с актуальными данными заказа.

 ## `ModalModel` - модель данных модального окна, реализует хранение состояния (открыто или закрыто).

 Поля отсутствуют.

 Конструктор наследует конструктор от абстрактной модели данных Model.
 
 Методы:
 
 - `open` - генерирует событие OPEN;
 - `close` - генерирует событие CLOSE.

  ## `OrderModel` - Модель данных заказа, реализует хранение данных address и способа оплаты.

 Поля:

 - `_payment` хранит способ оплаты выбранный пользователем;
 - `_address` хранит адрес пользователя типа string, изначально пустая строка.
 
 Конструктор наследует конструктор от абстрактной модели данных Model.
 
 Методы:
 
 - `getPayment` - возвращает способ оплаты, выбранный пользователем;
 - `setPayment` - принимает способ оплаты, добавляет его в поле _payment, сообщает подписчикам об изменениях;
 - `getAddress` - возвращает адрес, введенный пользователем;
 - `setAddress` - принимает адрес, введенный пользователем, добавляет его в поле _address, сообщает подписчикам об изменениях;
 - `getValid` - проверяет, заполнены ли поля способа оплаты и адреса;
 - `getError` - возвращает первую подходящую ошибку типа string если не выбран способ оплаты и не заполнено поле с адресом;
 - `orderChanged` - внутренний метод, вызываемый после каждого изменения, генерирует событие ORDER_CHANGED с актуальными данными заказа.

 ## `StoreModel` - Модель данных, которая передаёт и получает данные от сервера

 Поля:

 - `cdn` - базовый URL CDN, добавляемый к путям изображений товаров типа string.
 
 Конструктор создаёт экземпляр API-клиента. Принимает параметры:
 - `cdn` - адрес CDN для подстановки к полям image у товаров;
 - `baseUrl` - базовый URL API;
 - `options` - необязательная конфигурация для HTTP-запросов.
 
 Методы:
 
 - `getProductItem` - Принимает id товара, возвращает объект Product с добавленным полным URL изображения;
 - `getProductList` - возвращает массив типа Product[] с URL изображения;
 - `orderProducts` - принимает объект типа IOrder, возвращает результат оформления заказ OrderResult.

 ## `SuccessModel` - Модель данных успешного заказа, которая реализует хранение данных стоимости заказа

 Поля:

 - `total` - хранит сумму заказа, изначально равен 0.
 
 Конструктор отсутствует.
 
 Методы:
 
 - `setTotal` - Принимает сумму заказа, добавляет его в поле total, вызывает событие SuccessEvent.CHANGED.

---

## Описание интерфейсов

## `PaymentMethod` - представляет способ оплаты заказа
 - `card` - онлайн;
 - `cash` - при получении заказа.

## `ProductType` - представляет классификации товаров
 - `хард-скил`
 - `софт-скил`
 - `дополнительное`
 - `кнопка`
 - `string` - любое другое значение.

## `IProduct` - представляет данные одного товара в каталоге
 - `id: string` — id товара;
 - `title: string` - название товара;
 - `image: string` - ссылка на изображение товара;
 - `price: number` - стоимость товара;
 - `description: string` - текстовое описание товара;
 - `category: ProductType` - тип товара.

## `IOrder` - представляет данные для оформления
 - `email: string` — электронная почта покупателя;
 - `phone: string` — номер телефона покупателя;
 - `address: string` — адрес доставки;
 - `payment: PaymentMethod | null` — способ оплаты;
 - `total: number` — количество товаров в заказе;
 - `items: string[]` — список id товаров.
 
## `ITotal` - хранит данные об успешном заказе
 - `id: string` — id товара;
 - `total: number` - общая стоимость заказа.
 
 ## `IStore` - интерфейс API-клиента для взаимодействия с сервером магазина.
 
 Методы:
 
 - `getProductItem`- загружает товара с сервера по id, возвращает объект Product.
 - `getProductList`- загружает список всех товаров с сервера, возвращает массив объектов Product[].
 - `orderProducts`- отправляет успешный заказ на сервер. Принимает объект order типа IOrder, возвращает результат заказа типа ITotal.

 ## `IBasket` - интерфейс данных корзины.

  Поля:
 
 - `products: Product[]` - список товаров в корзине;
 - `total: number` - общая стоимость товаров в корзине.

  ## `IOrderChange` - интерфейс данных заказа (способа оплаты и адреса доставки).

  Поля:
 
 - `address: string` - адрес доставки;
 - `payment?`: PaymentMethod` - способ оплаты (необязательный);
 - `isValid: boolean` - указатель на валидность полей;
 - `error: string` - сообщение об ошибке.

  ## `IContactsChange` - интерфейс данных заказа (контактов покупателя).

  Поля:
 
 - `email: string` - email пользователя;
 - `phone: string` - телефон пользователя;
 - `isValid: boolean` - указатель на валидность полей;
 - `error: string` - сообщение об ошибке.

 ## `ISuccess` - интерфейс "успешного" заказа.

  Поля:
 
 - `total` - Сумма заказа.
 
 ## `IEvents` - интерфейс, описывающий стандартные методы для работы с событиями.
  
  Методы:
 
 - `on<T extends object>(event: EventName, callback: (data: T) => void): void;` - подписка на событие по имени или шаблону;
 - `emit<T extends object>(event: string, data?: T): void;` - Вызывает всех соответствующих подписчиков;
 - `trigger<T extends object>(event: string, context?: Partial<T>): (data: T) => void;` - Создаёт функцию-триггер, генерирующую событие при вызове

  Алиасы типов:
 
 - `type EventName = string | RegExp` - имя события;
 - `type Subscriber = Function` - тип любого обработчика события (подписчика);
 - `type EmitterEvent = { eventName: string; data: unknown }` - тип данных, передаваемых в обработчик при глобальной подписке через onAll.

  ## `IPage` - список данных страницы для render.

  Поля:
 
 - `counter: number` — количество товаров в корзине;
 - `catalog: HTMLElement[]` — список DOM-элементов каталога;
 - `locked: boolean` — флаг фоновой блокировки страницы.

 ## `IPageActions` - список доступных действий для конструктора страницы.

  Поля:
 
 - `onBasketClick(event: MouseEvent): void` — обработчик клика по иконке корзины.

  ## `ICard` - список данных карточки для render.

  Поля:
 
 - `id: string` — id товара;
 - `title: string` — заголовок карточки;
 - `image: string` — путь к изображению;
 - `price: number | null` — цена товаров в синапсах или null, если "бесценно";
 - `description: string` — описание товара;
 - `category: ProductType` — тип товара.

 ## `ICardActions` - список доступных действий для конструктора карточки.

  Поля:
 
 - `onClick(event: MouseEvent): void` — обработчик нажатия.

 ## `ICardCheck` - отображение присутствия товара в корзине.

  Поля:
 
 - `isInBasket: boolean` — показывает, находится ли данный товар в корзине покупателя.

 ## `IModalContent` - список данных модального окна для render.

  Поля:
 
 - `content: HTMLElement` — DOM-элемент, отображаемый внутри модального окна.

 ## `IModalActions` - список доступных действий модального окна.

  Поля:
 
 - `onClose: () => void` — колбэк, вызываемый при закрытии модального окна.

 ## `ISuccess` - список данных успешного заказа для render.

  Поля:
 
 - `total: number` — итоговая сумма списанных синапсов.

 ## `ISuccessAction` - список доступных действий успешного заказа.

  Поля:
 
 - `onSuccessButtonClick: (event: MouseEvent) => void` — обработчик клика по кнопке "Закрыть".

 ## `IOrder` - список данных оформления заказа для render.

  Поля:
 
 - `payment: PaymentMethod` — способ оплаты;
 - `address: string` — введённый адрес;
 - `valid: boolean` — валидна ли форма;
 - `error: string` — текст ошибки.

  ## `IOrderActions` - список доступных действий оформления заказа.

  Поля:
 
 - `onOnlineClick: (event: MouseEvent) => void` — обработчик клика по кнопке "Картой";
 - `onOfflineClick: (event: MouseEvent) => void` — обработчик клика по кнопке "Наличными";
 - `onContinueButtonClick: (event: MouseEvent) => void` — обработчик клика по кнопке "Далее";
 - `onAddressInput: (event: Event) => void` — обработчик ввода в поле адреса.

 ## `IContact` - список данных контактов для render.

  Поля:
 
 - `email: string` — значение поля email;
 - `phone: string` — значение поля телефона;
 - `valid: boolean` — валидна ли форма;
 - `error: string` — текст ошибки.

 ## `IContactActions` - список доступных действий для контактов.

  Поля:
 
 - `onEmailInput: (event: Event) => void` — обработчик ввода email;
 - `onPhoneInput: (event: Event) => void` — обработчик ввода телефона;
 - `onToPayButtonClick: (event: MouseEvent) => void` — обработчик клика по кнопке "К оплате".

 ## `IBasketView` - список данных корзины для render.

  Поля:
 
 - `items: HTMLElement[]` — список DOM-элементов товаров в корзине;
 - `total: number` — общая стоимость заказа.

 ## `IBasketAction` - список доступных действий для корзины.

  Поля:
 
 - `onClick: (event: MouseEvent) => void` — обработчик клика по кнопке "Оформить заказ".

 ## `ICardBasket` - модель данных карточки в корзине.

  Поля:
 
 - `index: number` — порядковый номер товара в корзине;
 - `title: string` — наименование товара;
 - `price: number` — цена товара.

 ## `ICardBasketActions` - список доступных действий для карточки в корзине.

  Поля:
 
 - `onCardButtonDeleteClick: (event: MouseEvent) => void` — обработчик удаления товара.

 Конструктор создаёт пустой список событий. Инициализирует _events.
 
 Методы:
 
 - `on<T>(event: EventName, callback: (data: T) => void): void` — регистрирует обработчик на конкретное событие. Принимает `event` — название события или регулярное выражение, и `callback` — функцию, которая будет вызвана при срабатывании события.
 - `off(event: EventName, callback: Subscriber): void` — отменяет подписку на событие. Принимает `event` — название события или регулярное выражение и `callback` — ранее зарегистрированный обработчик, который нужно убрать.
 - `emit<T>(event: string, data?: T): void` — инициирует событие и уведомляет всех подписанных обработчиков. Принимает `event` — название события и, опционально, `data` — данные, передаваемые обработчикам.
 - `onAll(allback: (event: EmitterEvent) => void): void` — подписка на все события. Принимает функцию, которая вызывается при любом событии и получает объект с именем события и сопровождающими данными.
 - `offAll(): void` — удаляет все существующие подписки и обработчики со слушателей.
 - `trigger<T>(event: string, context?: Partial<T>): (data: T) => void` — создает и вызывает событие с указанным именем и дополнительными данными. Возвращает функцию-обработчик, которую можно использовать, например, для связи с UI-компонентами или другими системами, чтобы инициировать событие с переданными параметрами.

---

## Компоненты отображения (представления)

 ## `BasketView` - отвечает за отображение содержимого корзины, отображение общей стоимости товаров в корзине и управление состоянием кнопки оформления заказа.

  Поля:
 
 - `_list: HTMLElement` — контейнер для списка товаров;
 - `_total: HTMLElement` — отображение стоимости товаров в корзине;
 - `_buttonBasket: HTMLButtonElement` — кнопка оформления заказа.

 Конструктор создаёт экземпляр компонента корзины. Принимает `container: HTMLElement` — DOM-элемент, в который отрисовывается корзина, `actions: IBasketAction` — объект с обработчиком клика по кнопке оформления.
 
 Методы:
 
 - `Show(data: Partial<IBasketView>): void` — метод обновляет отображение корзины, список товаров, общую сумму, состояние кнопки в зависимости от наличия товаров;
 - `setItems(items: HTMLElement[])` — заменяет содержимое basket__list;
 - `setTotal(total: number)` — отображает сумму с форматированием (formatNumber) и надписью «синапсов».

 ## `CardBasketView` - отвечает за отображение одной карточки товара в корзине.

  Поля:
 
 - `_index: HTMLElement` — содержит порядковый номер товара в корзине;
 - `_title: HTMLElement` — отображает наименование товара;
 - `_price: HTMLElement` — отображает цену товара, отформатированную через formatNumber;
 - `cardButtonDelete: HTMLButtonElement` — кнопка удаления карточки товара из корзины.

 Конструктор создаёт экземпляр компонента карточки товара в корзине. Принимает `container: HTMLElement` — DOM-элемент, в который отрисовывается карточка в корзине, `actions: ICardBasketAction` — объект с обработчиком клика по кнопке удаления из корзины.
 
 Методы:
 
 - `Show(data: Partial<ICardBasket>): void` — метод обновляет отображение карточки.

 ## `CardView` - отвечает за отображение карточки товара на странице.

  Поля:
 
 - `_category: HTMLElement` — DOM-элемент категории;
 - `_title: HTMLElement` — наименование товара;
 - `_image: HTMLImageElement` — изображение товара;
 - `_price: HTMLElement` — цена;
 - `description: HTMLElement | null` — описание;
 - `button: HTMLButtonElement | null` — кнопка.

 Конструктор создаёт экземпляр компонента карточки. Принимает `container: HTMLElement` — DOM-элемент, в который отрисовывается карточка, `actions: ICardActions` — объект с обработчиком клика по кнопке покупки.
 
 Методы:
 
 - `Show(ddata: Partial<RenderData>): void` — метод обновляет контент карточки: наименование, картинку и alt-текст, категорию и соответствующий класс, цену, описание;
 - `setProductCategory(value: ProductCategory): void` — устанавливает текст и класс категории;
 - `getProductCategoryClass(value: string): string` — возвращает соответствующий CSS-класс в зависимости от категории;
 - `setProductPrice(price: number | null): void` — выводит цену товара;
 - `setProductDescription(value: string): void` — обновляет описание.

 ## `CardPreviewView` - наследуется от класса CardView и используется для отображения карточки товара с возможностью взаимодействия с корзиной.

  Поля отсутствуют.

 Конструктор создаёт экземпляр компонента карточки. Принимает `container: HTMLElement` — DOM-элемент, в который отрисовывается карточка, `actions: IBasketAction` — объект с обработчиком клика по кнопке покупки.
 
 Методы:
 
 - `Show(data: Partial<ICardCheck>): void` - отображает в дополнение к отрисовке базовых данных карточки товара (категория, название, цена и т.д.), управляет состоянием кнопки добавления в корзину;
 - `setButtonState(enabled: boolean, text: string): void`
  управляет состоянием кнопки.

  ## `ContactsView` - отвечает за отображение ввода контактной информации.

  Поля:
 
 - `_email: HTMLInputElement` — поле ввода email;
 - `_phone: HTMLInputElement` — поле ввода телефона;
 - `_button: HTMLButtonElement` — кнопка оплаты;
 - `_error: HTMLElement` — элемент для вывода ошибок.

 Конструктор создаёт экземпляр компонента формы контактных данных. Принимает `container: HTMLElement` — DOM-элемент, в который отрисовывается компонент, `actions: ICardActions` — объект с обработчиком событий.
 
 Методы:
 
 - `Show(data: Partial<IContact>): void` - обновляет состояние формы в зависимости от переданных данных, состояние кнопки "К оплате" (включена/отключена), значения полей email и телефона.

 ## `ModalView` - отвечает за отображение и поведение модального окна.

  Поля:
 
 - `_closeButton: HTMLButtonElement` — кнопка закрытия модального окна;
 - `_content: HTMLElement` — контейнер для отображаемого контента.

 Конструктор создаёт экземпляр модального окна. Принимает `container: HTMLElement` — DOM-элемент модального окна, `actions: ICardActions` — объект с колбэком onClose.
 
 Методы:
 
 - `Show(data: Partial<IModalData>): void` — метод для отображения содержимого модального окна;
 - `setContent(value: HTMLElement | null): void` — устанавливает содержимое модального окна;
 - `open(): void` — открывает модальное окно;
 - `close(): void` — закрывает модальное окно.

 ## `OrderView` - отвечает за отображение ввода информации по способу оплаты и адресу доставки.

  Поля:
 
 - `_online: HTMLButtonElement` — кнопка "Онлайн";
 - `_offline: HTMLButtonElement`— кнопка "При получении";
 - `_address: HTMLInputElement` — поле ввода адреса;
 - `_continue: HTMLButtonElement` — кнопка "Далее";
 - `_error: HTMLElement` — элемент для вывода ошибок.

 Конструктор создаёт экземпляр компонента формы заказа. Принимает `container: HTMLElement` — DOM-элемент, в который отрисовывается компонент, `actions: ICardActions` — объект с обработчиком событий.
 
 Методы:
 
 - `Show(data: Partial<IOrder>): void` - обновляет состояние формы в зависимости от переданных данных, состояние кнопки "Далее" (включена/отключена), значения кнопки способа оплаты и поля адреса.
 - `setPayment(payment: Payment | undefined): void` — обновляет визуальное состояние кнопок оплаты.

 ## `PageView` - отвечает за отображение главной страницы приложения.

  Поля:
 
 - `_wrapper: HTMLElement` — обёртка страницы;
 - `_counter: HTMLElement` — элемент с количеством товаров в корзине;
 - `_catalog:HTMLElement` — контейнер для карточек каталога;
 - `_basket:HTMLElement` — иконка корзины.

 
 Конструктор создаёт экземпляр страницы. Принимает `container: HTMLElement` — DOM-элемент, в который отрисовывается страница, `actions: ICardActions` — объект с обработчиком событий.
 
 Методы:
 
 - `Show(data: Partial<IPage>): void` - обновляет счётчик корзины, список товаров, состояние блокировки страницы.
 - `setLocked(value: boolean): void` — блокирует/разрешает взаимодействие с содержимым страницы.

 ## `SuccessView` - отвечает за отображение экрана успешного оформления заказа.

  Поля:
 
 - `_`description: HTMLElement` — элемент с текстом "Списано X синапсов";
 - `_button: HTMLButtonElement` — кнопка закрытия сообщения.

 Конструктор создаёт экземпляр экрана успешного заказа. Принимает `container: HTMLElement` — DOM-элемент, в который отрисовывается компонент, `actions: ICardActions` — объект с обработчиком событий.
 
 Методы:
 
 - `Show(data: Partial<ISuccess>): void` — обновляет отображение компонента;
 - `setTotal(total: number): void` — устанавливает текст с итоговой суммой списанных синапсов;

 ---

## События

 ##  Каталог товаров

 - `CHANGED = 'catalog:changed'` — событие, вызываемое при изменении каталога товаров.

 ## Корзина

 - `ADD = 'basket:add'` — добавить товар в корзину;
 - `REMOVE = 'basket:remove'` — удалить товар из корзины;
 - `CLEAR = 'basket:clear'` — очистить корзину от всех товаров;
 - `CHANGED ='basket:changed'` — событие, вызываемое при изменении корзины.

 ## Модальные окна

 - `PRODUCT_PREVIEW = 'modal:productPreview'` — открывает модальное окно с карточкой товара;
 - `BASKET = 'modal:basket'` — открывает корзину;
 - `ORDER = 'modal:order'` — открывает форму с данными по заказу (адрес, способ оплаты);
 - `CONTACTS = 'modal:contacts'` — открывает форму с контактами
 - `SUCCESS = 'modal:success'` — открывает экран успешного завершения покупки;
 - `OPEN = 'modal:open'` — модальное окно открылось;
 - `CLOSE = 'modal:close'` — модальное окно закрылось;
 - `NONE = 'modal:none'` — модальное окно полностью неактивно.

 ## Оформление заказа

 - `PAYMENT_SELECT = 'checkout:paymentSelect'` — выбор способа оплаты;
 - `ADDRESS_INPUT = 'checkout:addressInput'` — ввод адреса доставки;
 - `EMAIL_INPUT = 'checkout:emailInput'` — ввод email;
 - `PHONE_INPUT = 'checkout:phoneInput'` — ввод телефона;
 - `ORDER_CHANGED = 'checkout:orderChanged'` — изменение данных заказа (адрес, способ оплаты);
 - `CONTACTS_CHANGED = 'checkout:contactsChanged'` — изменение контактных данных.

 ## Успешный заказ

 - `CHANGED = 'success:changed'` — обновление данных успешного завершения заказа.
